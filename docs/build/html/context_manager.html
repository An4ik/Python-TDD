

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Context manager &mdash; Python-TDD 0.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Decorators" href="decorators.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Python-TDD
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Hello Python, Hi TDD!</a></li>
<li class="toctree-l1"><a class="reference internal" href="baby_steps.html">Baby steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="magic_functions.html">Magic functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="fibonacci_numbers.html">Fibonacci numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="decorators.html">Decorators</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Context manager</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#context-manager-as-class">Context manager as class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#write-into-file">Write into file</a></li>
<li class="toctree-l2"><a class="reference internal" href="#change-directory">Change directory</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Python-TDD</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Context manager</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/context_manager.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="context-manager">
<h1>Context manager<a class="headerlink" href="#context-manager" title="Permalink to this headline">¶</a></h1>
<p><strong>ToDo:</strong> Read about context manager. Pass three levels for a better understanding.</p>
<p><strong>Learn:</strong> Context manager</p>
<p><strong>Working directory:</strong>  <a class="reference external" href="https://github.com/An4ik/Python-TDD/tree/master/context_manager">**context_manager**</a></p>
<p><strong>Context managers</strong> are a way of allocating and releasing some sort of resource exactly where you need it. The most widely used example of context managers is the ‘with’ statement.</p>
<p>If you forget to close the file or let’s say the database, it will later lead to big consequences. But with context manager, you don’t need to remember this, it will close everything for you.</p>
<p>We can implement context manager as generator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">contextlib</span> <span class="k">import</span> <span class="n">contextmanager</span>
<span class="nd">@contextmanager</span>
</pre></div>
</div>
<p>or as class by using magic functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="fm">__init__</span>
<span class="fm">__enter__</span>
<span class="fm">__exit__</span>
</pre></div>
</div>
<p>We want you to pass three levels for a better understanding of <strong>context manager</strong></p>
<div class="section" id="context-manager-as-class">
<h2>Context manager as class<a class="headerlink" href="#context-manager-as-class" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Look at the file context_manager_as_class.py</p>
</li>
<li><p class="first">Look at the test_context_manager_as_class.py in tests folder</p>
</li>
<li><p class="first">Run tests with command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">unittest</span> <span class="n">tests</span><span class="o">/</span><span class="n">test_context_manager_as_class</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>As you see all your tests are failed</p>
</li>
<li><p class="first">Now, complete the functions in context_manager_as_class.py</p>
</li>
<li><p class="first">Run tests and all of them should be passed.</p>
</li>
<li><p class="first">Compare your answer with mine located in answers/change_directory.py</p>
</li>
<li><p class="first">Congratulations, you have passed first level. Commit and push your changes.</p>
</li>
</ol>
</div>
<div class="section" id="write-into-file">
<h2>Write into file<a class="headerlink" href="#write-into-file" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Look at the file write_into_file.py</p>
</li>
<li><p class="first">Look at the tests in tests folter</p>
</li>
<li><p class="first">Run tests with command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">unittest</span> <span class="n">tests</span><span class="o">/</span><span class="n">tests_write_into_file</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>As you see all your tests are failed</p>
</li>
<li><p class="first">Now, complete the functions in write_into_file.py</p>
</li>
<li><p class="first">Run tests and all of them should be passed.</p>
</li>
<li><p class="first">Compare your answer with mine located in answers/write_into_file.py</p>
</li>
<li><p class="first">Congratulations, you have passed first level. Commit and push your changes.</p>
</li>
</ol>
</div>
<div class="section" id="change-directory">
<h2>Change directory<a class="headerlink" href="#change-directory" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Look at the file change_directory.py</p>
</li>
<li><p class="first">Look at the test_change_directory.py in tests folder</p>
</li>
<li><p class="first">Run tests with command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">unittest</span> <span class="n">tests</span><span class="o">/</span><span class="n">test_change_directory</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>As you see all your tests are failed</p>
</li>
<li><p class="first">Now, complete the functions in change_directory.py</p>
</li>
<li><p class="first">Run tests and all of them should be passed.</p>
</li>
<li><p class="first">Compare your answer with mine located in answers/change_directory.py</p>
</li>
<li><p class="first">Congratulations, you have passed second level. Commit and push your changes.</p>
</li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="decorators.html" class="btn btn-neutral" title="Decorators" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Akhmetov Anuar

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>